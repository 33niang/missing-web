---
title: 云上世界，万物互联
type: docs
---

# 云上世界，万物互联

{{<hint danger>}}
🚧本章文字部分已经完成，但是相关插图还未绘制。
{{</hint>}}

{{<hint info>}}
无可否认，如今的世界正在步入「云」与「智能」的时代：办公有云文档、娱乐有云游戏、科研有云计算……各色以「云」为名的服务围绕着我们，建构云上的世界；智能穿戴设备、智能家具、智能电器……各种智能设备在市场上涌现，令万物得以互联。本章，我们就来了解这一切背后的技术：云计算与物联网。看完这一章，你或许会领会这些问题的答案：

- 「云」是什么，「物联网」又是什么？
- 「云计算」是什么？为什么它这几年这么火？
- 「物联网」到底是如何应用的？它又与与云计算之间有什么关系？
- 未来的世界会是什么样子？
{{</hint>}}

「云计算」（Cloud Computing）与「物联网」（Internet of Things，简称 IoT）两个词，相信你早已耳熟能详。无论是我们日常的学习、工作和生活，还是近来新兴的「智能家居」，或者是新闻上经常听到的「互联网+」，都离不开它们二位。一言略之，云计算能为物联网提供强大的计算和存储能力，而物联网可以拓展「云」的边界，二者一同，构筑了万物互联的云上世界。如果不出意外，本章将是《你缺计课》正文的最后一章，在此尾声之际，来听一个——或者几个故事吧。

> 本章所有故事均为虚构，如有雷同，纯属巧合。

## 引子·《你缺计课》编委会隆重会面

2024 年 9 月 16 日，中秋假期的第二天。机缘巧合之下，Windy 来到了 Hans 所在的城市——原本他是打算拜访亲戚的，但一想到机会难得，便决定顺路见一见 Hans。于是，《你缺计课》编委会为数不多的会面次数，又增加了一回。

沿海城市，经济似乎都要发达一些，坐落在这的大学也沾了点光，借此打造了一流的硬件设施。Windy 坐上地铁，提前告知了 Hans 来访的事情，却得到了「我先起个床」的回复。

「这就是大学生作息吗？可都快要一点了。」

「反正今天没事——待会儿好像会下雨，您就在地铁口等我吧。」

虽然三十分钟对于地铁旅途而言算有点久了，但对起床下楼而言却有点仓促。南方沿海九月的午后，大气对流裹挟的雨水总是不期而至。Windy 望着雨幕，在地铁站出口坐了一会，终于看到了 Hans 匆忙而至的身影与他手中的两把伞。

「太强了！居然有两把伞。」

「这不是看您来了吗，特地去买的！」

「？」

穿过琳琅满目的工地和山重水复的小巷，Windy 跟着 Hans 来到了大学城。

「你们大学城怎么到处在建东西？」

「我们工『地』大学是这样的。不如来看看参观参观我们的教学楼，虽然这地方有点小——毕竟这里的地寸土寸金——但是该有的还是都有。」

说话间，两人走进一栋楼，来到了一间机房外。机房里，零星有几个人坐在电脑前忙活。没想到中秋佳节时，仍是工作日。

Hans 走到一台电脑前坐下，按下电源键：「写《你缺计课》了吗？」

「别急，这不放假吗。」

「我跟你说，交不上稿，都得完。」Hans 熟练地远程到自己宿舍的电脑，打开了正在编辑的《你缺计课》，「请。」

「我是来干这个的？」Windy 和电脑面面相觑。

「也不是不行对吧，」Hans 一边说着，一边改掉了文章里的两个错别字，「我每次来机房都会用这远程桌面来操控自己的电脑，毕竟自己的电脑里软件齐活，好用！」

「你说远程桌面算不算一种服务器？」

「或许呢，不过这种『服务器在自己这』的模式现在还是少见，不像以前……」

## 第一幕·苦衷 2003·本地部署之痛

千禧年交替的钟声仿佛仍在耳边回荡，2003，一个充满伤痕却遍地希望的年代，互联网的浪潮以排山倒海之势涌向这片古老的土地，机遇、梦想、金钱……无尽的可能藏在这片蓝海之下，为这片大地注入新的活力。浪潮之下，总有人乘风而起。辞去安稳的工作，他带着自己数年的积蓄，投入了互联网的浪潮中。

他的目标，是在省城开一家软件公司，瞄准「办公自动化」这一领域。但在互联网初入之际，运营一家软件公司的成本显然不容小觑。为此，他四处筹款，东拼西凑，好歹是凑够了地盘与设备的钱；又四处游说，召集同伴，最终与几位志同道合的伙伴组成了最初的公司。他们雄心勃勃，斗志昂扬，准备在互联网行业大干一场。

「各位，我们的目标，是占领互联网行业的一亩三分地，然后做大、做强。大家有没有信心？」

「加油！」

此后，他们立马投入到紧锣密鼓的软件开发工作中。随着时间的推移，一款创新型「办公一体化平台」软件初具规模。这款软件，不仅能帮助企业实现任务分配、项目进度跟踪、经费管理、材料归档等功能，更支持企业内部员工之间在线通信。软件的平台服务，则由他们提供。小本经营的他们，选择以低廉的价格提供软件与服务，换来更大的市场份额。报纸上的广告位和自己的人脉，也成为了小本经营下最优先的宣传渠道。靠着这些策略，他们的软件受到许多中小企业的青睐，订单也接踵而至。这第一桶金让整个公司都喜气洋洋，大家认为自己的努力得到了回报。

然而，经年累月的运营下，一些潜在的问题终于浮出了水面。小本经营的公司，人力有限、设备有限，连办公室的空间都非常有限。为了向客户提供软件平台的服务，他们需要一块地方放置服务器。但随着客户越来越多，服务器的需求上涨了，办公空间的需求也跟着上涨，人力需求也随之上涨，电力与网络的费用就更不必说。如此一来，「低价」的策略，随着用户量的增加，成为了公司发展的瓶颈。无数次，他们计算着公司的盈亏，他问：「我们的成本是不是又要上涨了？」

也总是有这样的回答：「对，增加一台服务器的费用太多了，还有随之而来的各种杂七杂八的维护费用，我们实在负担不起，除非提高我们软件的售价。」

「不行，如果提高售价，我们的客户会流失许多。」

「但这是唯一的办法了！」

「……」

四年时光说长也长，长在他们软件公司经历起起又落落；但又如弹指一挥，就像他在四年后依然是一位打工人。虽然公司的经营情况差强人意，但相比当初的目标仍有距离。服务器的维护、成本供需的平衡让他心力交瘁。大公司的产品，虽然价格更高，但比起这小本经营的公司，大公司的软件不仅能在线运行，宣传也更加到位，服务质量显然也不在一个量级。最终，他与伙伴虽痛心，但不得不做出艰难抉择——停止后续开发、不在出售软件。他的软件，在国产软件的历史长河中，荡下不轻不重的一缕波纹。

## 幕间·一

「这就是世纪初，互联网行业小微企业面临的大难题之一。」Hans 结束了故事。

「也是，网络是连接我们与远方的桥梁，服务器肯定是这里面重要的组成部分。但一台服务器的价格肯定不便宜，在互联网还不发达的时代的确是不小的麻烦。」Windy 若有所思。

「没错，服务器其实就是一台性能强劲的电脑，作用就是和许多其他设备频繁通信，为它们提供『服务』。比如说 missing 的网页版服务器，用浏览器访问《你缺计课》，这些服务器就会发回网页的内容。又比如微信的服务器，为许许多多微信用户提供服务，在他们互发消息时充当中间的『桥梁』来转发消息。」

![服务器与用户](cloud-computing-and-iot/Server_and_users.png#center)

「也就是说，为了服务不掉线，服务器必须 24 小时开机？」Windy 随意瞥了一眼门外，只见一间挂着「高性能计算中心」牌匾的房间大门紧闭。透过玻璃窗，他隐约看见星星点点的黄绿色光芒在闪烁，同时耳边传来阵阵风扇的轰鸣声。

「对。」

「那这么一来，电费也是开支大头——哦对了还有网络，既然服务器的作用是连接到其他许多电脑提供服务，那肯定需要高速、低延迟，还能直接从外面访问的网络。所以，要想搭建服务器，还得向运营商买专用宽带，这又是一笔开支。也难怪『他』做不下去了，这应该就是苦痛的根源。」

「没错，这种架构就是『本地部署』：服务器位于每个组织的本地，由组织自己管理。但是很显然，这种模式让那些小微企业难以负担，将无数想进军互联网行业的人挡在了门外——这栋楼没什么好看的了，不如去别的地方看看。」

「你不饿吗？现在都快两点了，我是喝了早茶过来的。」

「你说得对，那不如找个地方吃饭。」

对流的雨水来得快去得也快，就这么一下，天空已晴空万里。这个时候，大学城内的食堂大都已经午休，大叔与大妈们躺在长座椅上，缓解中午带来的劳累。Hans 领 Windy 来到一家餐馆：「我经常来这吃。」但明亮的灯光、精致的桌椅和超大的落地窗让这里看起来更像卖漂亮甜品的咖啡馆。

两人落座，点了一份牛排与一份炸鱼，附赠一杯饮料。大快朵颐间，他们仍不忘刚才的话题。Windy 问：「那既然买服务器很多人都负担不起，有没有别的商业模式呢？」

Hans 咽下一块牛排：「有的。后来人们想让许多这种『位于网络另一端』的服务器集中在一起，变『买』为『租』，按需出租给有需要的人，那大家都能享受到服务。」

「确实，这有点像天上的云，大地之上的人都能看到他们，云也能给这片大地『雨露均沾』。」

![「云」](cloud-computing-and-iot/The_Cloud.png#center)

「没错，从无数苦痛中蜕变，『云计算』的时代，就此拉开序幕……」

## 第二幕·曙光 2013·「云」的计算与「物」的联网

21 世纪的第一个十年已经过去，中国也继续驶向产业转型升级的快车道，整体工业水平也随之不断提高。在这样的大趋势下，生产设备的零件精度更加是重中之重。

她是本地一家轴承厂的工程师与质量主管，这家工厂主要生产高精度滚动轴承及其附属配件。得益于优良的精度与稳定性，外加当地成体系的产业链，轴承厂的销量颇丰，效益不错。但最近，售后部门频频接到客户投诉，不是轴承游隙有问题，导致运转不稳定；就是公差不满足，装都装不上去。售后把投诉统计放到她眼前：「你是管产品质量的，看看这是怎么一回事？」

「我立马排查。」她如是回复。人员、机器、原料、方法、环境，五大方面，她一个个排查，最终确定是生产设备老化、质检工疏忽大意导致了这些次品的流出。但她想得更远：不能总是等到投诉了才来亡羊补牢，必须将这些次品隐患消除在工厂内。

她冥思苦想、四处寻找灵感。一次行业内先进技术交流会上，台上的人正在介绍「工业物联网」。她立刻看向台上：「什么物联网？不是互联网吗？」然而大屏幕上明明白白地写着「物联网」。随后，她看到了管理部门电脑上琳琅满目的信息，从设备的温度、振动、损耗情况，到产品的在线检测图像、性能测试数据，再到自动分析出的可能存在的风险……就像阿基米德灵光一闪突然跑到大街上喊「尤里卡！」一样，她也万分激动，因为她找到了自己日思夜想的方案。

回到公司，她立马在会议上提出了自己的质量整改方案，得到了领导的高度认可。于是，她与当地院校合作，在工厂内引入了一套物联网方案。为存储与分析数据，他们需要服务器。但不像十年前一样自己买机器，而是在一家云计算平台租。平台上，他们可以自己配置服务器的 CPU、内存、硬盘等参数，而下单得到的也不是一台运过来的机器，而是在「云」上的一台服务器的「完整使用权限」。他们只要用就行了，无需关心网络与维护这些琐事。在服务器上，他们安装了整套用于数据收集与处理的软件。

车间中，各种数控机床装上了数据收集、远程控制软件，将数据传到云服务器上。而那些没有数控的老旧设备，则装上了各种传感器来尽可能收集监测数据，同样传到云端。这些数据经云服务器处理，呈现在质量管理部的电脑上，她和同事们，在算法的帮助下，能及早发现问题、排除隐患，将次品扼杀在摇篮中。

这套系统投入使用后，次品率大幅降低，轴承的精度也比原来更好。当地政府甚至将这套系统作为「智能制造」标兵项目宣传。然而，鲜花与掌声中，她也听到了一些犯难的声音：「这套系统，跟大学合作的，要花不少钱呢！」「确实，而且还要有技术人才，我们这种小厂哪里担负得起啊……」

她很高兴，自己的决策成为了优秀的榜样；她也有些忧伤，这套系统需要先进的技术与大量资金支持，复制并不容易。虽然智能制造的「未来工厂」只是曙光初现，但她坚信：未来的工厂一定是万物连接到云端的，用数据让每一道工序都趋近完美。

## 幕间·二

「我感觉『智能工厂』这个东西是最近几年才开始大肆宣传应用的，没想到这么早就有先例了吗？」Windy 小啜一口饮料。

「虽然似乎是这样，但是一项技术从开发到推广肯定是需要一些时间的。早在 2006 年，美国的亚马逊就推出了一款名叫『弹性云计算』的服务，他们叫『Elastic Compute Cloud』，简称『EC2』。借助这个 EC2，用户就能租到开箱即用的服务器，非常方便。」

「你这『开箱即用』，是不是就是刚才你讲的那种『从平台上就能方便配置的云服务器』？」

「就是这种。服务器实际上在亚马逊的机房内，但用户可以拿它建网站、运行服务、分析数据……各种事情都可以，而不需要——当然也没法——关注电费、维护等琐事，只要根据用量或者使用时长付租金就行了。」

「你这么说，看来亚马逊的地盘蛮大的，能放下这么多服务器租给用户。」

「这就不太可能了。全球这么多用户，每人一台机子那还得了，辟一个公园都放不下吧。」

「那怎么办？」

「虚拟化。云服务器不是可以根据用户需求组织配置吗？若真为这么多不同组合分派不同硬件，显然更不现实。而利用虚拟化，他们就可以在一台电脑上，用软件模拟出多台『虚拟机』，这些虚拟机之间就像独立的电脑一样，彼此感知不到对方，但可以灵活配置、独立开关机，甚至可以随意创建或删除。」Hans 也喝了一口饮料。

![虚拟机](cloud-computing-and-iot/VMs.svg#center)

> 在 [「程序」是怎样炼成的]({{<relref "program-and-arch.md">}}) 中，我们提到过 CPU 的工作原理：逐条读取指令并执行。如果用软件模拟它，就成了一种最简单的虚拟机。但显然它的性能很差，因为原本一条指令完成的任务，在模拟的过程中就可能实际对应成百上千的指令了。相比之下，高性能的虚拟化需要 CPU 指令集层面的支持，能够以很低的额外开销在虚拟环境中运行指令。

「哦～这么一来，亚马逊机房的服务器就通过虚拟化，分出一大堆云服务器，而用户得到的其实是这些分出来的虚拟机。既方便厂商，又方便用户，真是双赢的局面。」

「的确，所以后来有许多厂商都开始推出这样的云服务器，比如国外的微软、谷歌，国内有阿里、盛大、腾讯等等公司。这些公司各自在定价什么的方面还有不同，人们还给它们起了一堆外号呢。」

「啊？还有这事？」

「谁知道呢。总之差不多 2010 年，云计算围绕云服务器，开始快速发展。但这一时期更多是一种『集中化发展』，因为算力集中到了服务商的手中，整合资源，按需分配。」

「但是要撑起『她』工厂里的智能系统，光有服务器不够啊，还有设备上的那一堆数据采集装置呢。」

「没错，这就是『物联网』。『云』是中心，那么『物』就是边缘。物联网的目标，就是让万物都成为边缘，接入中心的网络。」Hans 准备终结盘里的牛排。

「所以，那些加了数据传输设备的数控机床和传统机床上加装的各种传感器，让这些机器变成了物联网的一部分。这样一来，机器工作过程中的实时状态都能通过网络传到云服务器进行分析，再向管理者的电脑发送结果。那么，整个车间的生产情况、存在的隐患、各种机床的实时工况，都能为管理者所知。」

「不仅如此，在生产设备上还可以加装「微电脑」，超级小，长宽几厘米的电路板就能容纳。这些微电脑嵌在机器中，也被称作『嵌入式计算机』。虽然在这么点大的电路板上塞进了处理器、内存和类似硬盘的部件，但很显然性能不强，不过也足够它们自行控制这些机器了——或者从云端接收管理者的指令，让远在另一端的管理者也能控制这些设备。」

「这是不是一种『运筹帷幄之中，操纵千里之外』？」Windy 消灭了最后一块炸鱼。

「依靠云服务器这座『桥梁』，还真是这样。」Hans 起身，「吃饱了，再去别的地方转转吧。」

二人移步大学城图书馆，流线形的外观让这栋建筑看起来更像「知识的海洋」。Hans 再一次当起了导游：「这是我们大学城的图书馆，但同时也对市民开放，大家都可以来这里办证借书。」

「高级。『好的大学，没有围墙。』」

踱步、上楼，穿行在一排排书架间，Hans 面露喜色，抽出一本《Window 7 一本通》：「你看，这是我们的竞品。」

Windy 翻着书，也跟着乐：「可这都是老久之前的书了，咱们可是与时俱进的！」[^inLibrary]

[^inLibrary]: 图书馆禁止大声喧哗哦！即便是感叹，也只在细若游丝的声音上提高一点而已。

「别说，《你缺计课》也是依托云服务的。现在可是 20 年代了，时代变了，生活也变了。」

## 第三幕·绽放 2023

### 第一场·「他们」与授人以渔

「你不觉得，我们身边有同龄人连电脑都不会用，这是很可悲的一件事吗？」

「的确，感觉这应该是个基本技能的。」

「我想写点东西……名字就致敬一下 MIT 的那个『Missing』，叫《你缺失的那门计算机课》，教一些电脑使用基本知识。」

「我觉得挺好的，值得一试。」

「一起写？」

「可。」

这场对话已是整整两年前的往事，但即便过去七百多天，这往事仍历历在目。现在是 2023 圣诞，他回忆着两年前的往事，心中感慨万千。在当年鸡同鸭讲地给同学科普了电脑的基本操作后，他愤而提笔，立志写就一套面向当今「电脑小白」的电脑使用教程。他把这个想法告诉友人，便留下了上面的对话。那时的他们从未想到，看似一时兴起的决定能够一直坚持到到现在。

回到两年前。说干就干，二人很快开始构思、动笔，写下一篇篇文章。他们迫不及待地想把自己的作品分享给大家，尤其是那些需要帮助的人。但是想法很热切，现实却有麻烦，怎样既能方便快捷地协作编写，又能轻松地把作品分享出去呢？他们找到了一款「云笔记」平台，两个需求一次满足！由于是云笔记，所有内容都安全地存在云端，随时随地任何设备都能查看。短短几个月，二人写下了六万多字。

看起来一切稳中向好，但是云笔记平台只是个写笔记的平台，他们想要推广作品却受到了一些掣肘——平台给的内容链接太长了，看起来像什么奇怪小网站似的。于是，他们想建立自己的网站，并把作品搬上去。这次，他们选择了一个能免费托管代码与文档的云平台，还提供从文档生成网站的服务，只需简单配置参数，就能搭出简洁美观又大方的网站。

但是免费平台终究有其限制，在读者越来越多的情况下，服务器渐渐处理不过来这么多访问量。他们开始寻求更好的云服务器。云服务器市场经过了十几年的发展，低配的选项已接近「白菜价」，只要几百块，就能租一个足够网站运营起来的云服务器。他精挑细选，在一家国内的云计算平台租好了服务器。在搭建网站之余，他还利用富余的性能，搭建了一款知名游戏的服务器，与友人一同愉快游玩。

这样一来，他们的作品能够为更多的人看到，也能够帮到更多人。他们喜悦于自己的作品能传播开来，授人以渔；同样感慨于自己一路上能持之以恒、始终如一。他们更加相信，用心写下的作品能不断壮大、越来越好，也希望需要它的人都能获得这份知识。

### 第二场·「她」与智慧生活

她是一位名副其实的「职场强人」，最近负责的项目就要验收了，她每日的生活如同上紧弦的怀表一般：早晨，在地铁，她赶着上班；下午，在公司，她在会议与事务间游走；晚间，在家中，她靠咖啡提神，加班至深夜。一直如此「连轴转」的她似乎毫不疲惫，直到有一天。

这天起床，她总感觉心跳节奏不齐，仿佛跟不上韵律的鼓手，有一拍没一拍，还伴随着些许胸闷。她感到有些不安，但项目为重，就没有把这奇怪的感觉放在心上。然而，她像往常出门上班时，习惯性地抬起手腕看看时间，但一行「您疑似出现早搏症状」的健康警告赫然映入眼帘。地铁上，她不停搜索「早搏」这一医学名词——心悸、心脏有停顿感，发病人群广泛，诱因可能是紧张和疲劳，大部分无需治疗，但严重者可致命……然而单凭这些还无法判断她是否是「需要治疗」的那类人群。

她打开与智能手表配对的 app，一时愕然——一模一样的健康警告不止一条，而是最近几天都有。到了公司，她不在耽搁，立刻请假，前往医院进一步检查。

遵循医嘱，她做了 24 小时动态心电图检查，结果显示早搏的确存在。但医生看着结果，说：「虽然你的确有早搏这个症状，但是也不是什么严重的病，只要坚持规律作息、健康饮食，过一段时间就好了。看你也是个热爱工作的人吧？」

她哑然失笑：「没错，这您都看出来了。」

「其实这种病还是比较常见的，在年轻人身上也能见到，尤其是拼命工作、拼命学习的人。这种病说小也小，但一直持续不良的生活习惯就会有很严重的后果。唉，虽然有目标是好事，但也不能不管身体健康啊。」

「您说的对，我记下了。」她谢过医生，决心改变以前那种连轴转的「工作狂」模式，拥抱更加健康的生活——「生命还是比金钱重要。」她这样想。

自此，她对手腕上的智能手表刮目相看。虽然在购买之初，她就从厂商的宣传中了解到了手表各种各样的「健康功能」，但一直以来它在她那里只是个「手表 + 计步器」而已。她以前从未想到，科技的力量已经可以将医学检测技术浓缩在这么一个小巧的设备中，能够及时、准确地分析身体异常状态，更没想到自己会被这样的技术「救下」。「科技的发展的确在改变我们的生活。」她感慨。

## 幕间·三

Windy 回望图书馆：「知识使人类进步，科技能改变生活。」

## 第四幕·幻想 20?3·「我们」的世界